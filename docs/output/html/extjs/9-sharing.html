<html class="x-strict x-viewport">
<head>
    <title>Sencha Training</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>
<body>
<h1>Sharing Themes</h1>
<h1>Sharing Themes</h1>
<!-- Chapter: Sharing Themes -->


<h2>Objectives</h2>
<ul>
<!----><li>
<!--    --><p>
Learn about global themes
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Learn about app specific themes
<!--    --></p>
<!----></li>
</ul>


<h2>Introduction</h2>
<p>Multiple apps can share the same theme,
since themes are located in the <strong>packages</strong> folder.</p>
<p>image::resources/images/sharediagram1.png</p>


<h2>App specific</h2>
<p>Now in the previous example, it wouldn&#8217;t make much sense that
the Audio app has a Stylesheet that contains styles for the video
player.</p>
<p>So there must be a way to also save CSS styles on app level.
That&#8217;s why each generated app has an own sass folder:
<strong>app/sass/</strong>.</p>
<p>image::resources/images/sharediagram2.png</p>


<h2>Global vs App specific</h2>
<p>Styling that is not shared between applications belongs in the application itself, not in the theme. Sencha Cmd provides an easy way to add application-level styling by following the same pattern as theme styling. The application acts as the final level in the theme hierarchy. Applications can change theme variables, and they can add their own custom variables and rules for styling the application&#8217;s views.</p>
<p><strong>Global themes</strong> are saved in the <em>packages/sass</em> folder.<br>
<strong>App specific styles</strong> are saved in the <em>myapp/sass/</em> folder.</p>


<h2>Order of Loading.</h2>
<ol>
<!----><li>
<!--    --><p>
First the <strong>Global Theme</strong> is loaded.
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Then the <strong>app specific styles</strong>.
<!--    --></p>
<!----></li>
</ol>


<h2>Global theme folderstructure</h2>
<p>As we have seen in lecture; a Global theme has the following folderstructure.</p>
<ul>
<!----><li>
<!--    --><p>
sass
<!--    --></p>
<ul>
<!----><li>
<!--    --><p>
etc<br>
        contains additional utility functions or mixins<br>
        <em>all.scss</em><br>
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
src<br>
        contains Sass rules and UI mixins<br>
        <em>button/Button.scss</em><br>
        <em>panel/Panel.scss</em><br>
        <em>&#8230;</em><br>
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
var<br>
        contains Sass variables<br>
        <em>button/Button.scss</em><br>
        <em>panel/Panel.scss</em><br>
        <em>&#8230;</em><br>
<!--    --></p>
<!----></li>
</ul>
<!----></li>
</ul>
<p>The files in the <em>src</em> and <em>var</em> folders are organized according the folderstructure of the framework.
For example to style a  <code>Ext.grid.Panel</code> you should create a folder and Sass file: <em>grid/Panel.scss</em>.</p>


<h2>Is this structure for styles on app level the same?</h2>
<p>No. It is different.
Although you could change it; in the (hidden) sencha config file:
<em>myapp/.sencha/sencha.cfg</em></p>


<h2>sencha.cfg</h2>
<p>By default when you generate an application with Sencha Cmd,
it is configured that app specific styles map to the filestructure of your application.</p>
<p>myapp/.sencha/sencha.cfg</p>
<pre class="runnable preview"># The root namespace to use when mapping scss resources to js classes
# in the sass/src and sass/var directories
app.sass.namespace=ExtReader</pre>


<h2>App specific folderstructure</h2>
<p>To organize app specific Sass files, you should map your app file structure.
For example:</p>
<ul>
<!----><li>
<!--    --><p>
sass
<!--    --></p>
<ul>
<!----><li>
<!--    --><p>
etc<br>
        contains additional utility functions or mixins<br>
        <em>all.scss</em><br>
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
src<br>
        contains Sass rules and UI mixins<br>
        <em>view/Viewport.scss</em><br>
        <em>view/Header.scss</em><br>
        <em>view/Grid.scss</em><br>
        <em>&#8230;</em><br>
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
var<br>
        contains Sass variables<br>
        <em>view/Viewport.scss</em><br>
        <em>view/Header.scss</em><br>
        <em>view/Grid.scss</em><br>
        <em>&#8230;</em><br>
<!--    --></p>
<!----></li>
</ul>
<!----></li>
</ul>
<p><em>src/view/Viewport.scss</em>  because of <code>MyApp.view.Viewport</code><br>
<em>src/view/Header.scss</em> because of <code>MyApp.view.Header</code><br>
<em>src/view/Grid.scss</em> because of <code>MyApp.view.Grid.scss</code></p>


<h2>Who is winning?</h2>
<p>Ok, you&#8217;ve created a global theme and some app specific styles.
Let&#8217;s say you set a <code>$base-color</code> on both.
A blue $base-color in the global theme and a red $base-color in the app specific styles.</p>
<p>Who is winning?</p>


<h2>Answer</h2>
<p>You would think the app specific variable would win&#8230;
But this is not the case. The global theme will always win, unless you
allow variables to be overruled.</p>


<h2>!default</h2>
<p>The <code>!default</code> setting, can set a default value for a variable.</p>
<p>The <code>!default</code> setting can allow a variable in your <strong>global theme</strong> to be overruled by a variable
in an app specific theme.</p>
<p><em>It&#8217;s not the same as <code>!important</code>; that&#8217;s the opposite (but on CSS rules, not on Sass variables);
When you set this, you can <strong>not</strong> override the CSS rule. Therefore <code>!important</code> is a bad practice.</em></p>


<h2>Example</h2>
<p>See the next slides for an example of this works.</p>
<h3>Create app specific styles</h3>
<p>This app has a <code>MyApp.view.Viewport</code> class;
so we will apply the <code>$base-color</code> to this component on app level.</p>
<pre class="runnable preview">$base-color: red;</pre>
<p>image::resources/images/share_red.png</p>
<h3>Create a new theme</h3>
<p>Assign a new theme to your app.
Every Ext view component extends from <code>Ext.Component</code>,
so we will apply the <code>$base-color</code> globally to this component.</p>
<pre class="runnable preview">$base-color: blue;</pre>
<p>image::resources/images/share_blue.png</p>
<h3>Overwrite global vars</h3>
<p>Change the global theme to allow variable overwrites.</p>
<pre class="runnable preview">$base-color: blue !default;</pre>
<p>image::resources/images/share_red.png</p>

<!-- END -->
</body>
</html>

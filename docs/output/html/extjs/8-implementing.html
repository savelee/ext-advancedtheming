<html class="x-strict x-viewport">
<head>
    <title>Sencha Training</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>
<body>
<h1>Implementing assets</h1>
<h1>Implementing assets</h1>
<!-- Chapter: Implementing assets -->


<h2>Objectives</h2>
<p>w
* Learn how to implement images
* Lean about paths to resources
* Learn how to implement custom fonts
* Learn how to implement custom icons</p>


<h2>Implementing Images</h2>
<span class="title">There are a couple of ways of implementing images in Ext JS</span><ul>
<!----><li>
<!--    --><p>
Implementing an image by using the <code>html</code> tag.
Easy but dirty.
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Implementing an image by using <code>Ext.Img</code> class.
Very powerful.
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Implementing a background image in the CSS
Structured.
<!--    --></p>
<!----></li>
</ul>


<h2>Folder structure</h2>
<p>Where to save the images?</p>
<p>When app specific:
<em>[workspace]/resources/</em> folder.</p>
<p>When global theme:
<em>[workspace]/packages/[theme]/resources/</em> folder.</p>


<h2>Image HTML tag</h2>
<pre class="runnable preview">items: [{
    xtype: 'container',
    html: '&lt;img src="resources/logo.png" height="25" alt="ExtReader"/&gt;'
}]</pre>


<h2>Image Ext.Img class</h2>
<pre class="runnable preview">items:[{
        xtype: 'image',
    src: 'resources/logo.png',
    alt: 'ExtReader',
    height: 25
}]</pre>


<h2>Background image in CSS</h2>
<pre class="runnable preview">items: [{
    xtype: 'container',
    cls: 'mybackground'
}]</pre>
<pre class="runnable preview">.mybackground {
        background: #fff url('background.png') repeat-x;
}</pre>


<h2>Paths to resources</h2>
<p>You don&#8217;t need to worry about paths to images in Ext JS since it&#8217;s part of the application build process.</p>
<p>When building the app, the global theme images and the app specific images will be automatically copied over to the resources build folder. <em>(build/[appname]/resources)</em></p>
<p>Note: subfolders will be copied too!</p>


<h2>Paths global</h2>
<pre class="runnable preview">/* red image: resources/backgrounds/red.png */
.bgred {
        background: url('backgrounds/red.png') repeat-x;
}</pre>
<pre class="runnable preview">/* yellow image: resources/yellow.png */
.footer {
        background: url('yellow.png');
}</pre>
<img src="resources/images/assets_appresources.png"  width="100%" >


<h2>Paths app specific</h2>
<pre class="runnable preview">/* blue image: packages/[mytheme]/resources/backgrounds/blue.png */
.bgblue {
        background: url('backgrounds/blue.png') repeat-x;
}</pre>
<img src="resources/images/assets_globalresources.png"  width="100%" >


<h2>Paths in build</h2>
<p>Images saved in <em>packages/[mytheme]/resources</em>
and images saved in <em>[myapp]/resources/</em>.
will be copied to the <em>build/[appname]/resources</em> folder.</p>
<img src="resources/images/assets_buildfolder.png"  width="100%" >


<h2>Paths to resources</h2>
<p>Under the roots, this happens also with paths in <code>Ext.Img</code> classes and image tags and other resources such as fonts.</p>
<p>However, while developing you would point images to the <em>/resources/</em> folder, since you don&#8217;t want to build every time while developing.
Once you build, Sencha Cmd will take care.</p>


<h2>Base64 encode instead</h2>
<p>Images can be saved to Base64 strings. (Binary to ASCII Text).
It&#8217;s a technique what&#8217;s been used for years for sending email
image attachments. When you are not familiair with Base64 strings, they look like these:</p>
<pre class="runnable preview">data:image/png;base64,&lt;LONG BASE64 STRING WITH ENCODED DATA&gt;"</pre>
<p>An advantage of a string like this, is that you can cache it,
maybe you want to save it in a database.
Instead of an URL to a path you pass in the Base-64 string.</p>


<h2>Overriding images</h2>
<p>When you are extending from other themes, some components contain images that are
inherited from a parent theme.</p>
<p>In some cases you may need to override an image. This can be easily done by placing the desired image in <em>packages/[mytheme]/resources/images/</em> and giving it the <strong>same name</strong> as the image it is intended to override.</p>
<p>For example, let&#8217;s change the info icon of the MessageBox component. Save the following image as <em>packages/[mytheme]/resources/images/shared/icon-info.png</em>
==== Implementing custom fonts
.The following steps are required to implement a custom font.</p>
<ol>
<!----><li>
<!--    --><p>
Download a font-face kit
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Create <em>fonts</em> folder in resources folder.
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Implement font in Sass
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Assign font
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Build
<!--    --></p>
<!----></li>
</ol>


<h2>About @font-face</h2>
<p><code>@font-face</code> is a CSS technique used nowadays to implement custom
web fonts. Where with system fonts it picks the font if available in your OS, <code>@font-face</code> downloads the font from the Internet.</p>
<p>Unfortunately the major browsers can&#8217;t come up with one web font solution. Therefore you have to embed multiple web font extensions
into your Stylesheet. See <a href="#styles_fontfaceoverview">[styles_fontfaceoverview]</a>.</p>


<h2>Compatibility</h2>
<table class="tableblock frame-all grid-all" id="styles_fontfaceoverview"
style="
width:100%;
">
<caption class="title">Table 1. Cross-browser compatibility overview of font-face</caption>
<col style="width:20%;">
<col style="width:20%;">
<col style="width:20%;">
<col style="width:20%;">
<col style="width:20%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Browser             </th>
<th class="tableblock halign-left valign-top" >TTF</th>
<th class="tableblock halign-left valign-top" >EOT</th>
<th class="tableblock halign-left valign-top" >WOFF</th>
<th class="tableblock halign-left valign-top" >SVG</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Firefox</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">_</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">_</p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Google Chrome</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">_</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Safari</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">_</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Mobile Safari</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">_</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">IE10</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">_</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">_</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Android Browser</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">_</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">_</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock">BlackBerry Browser</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">_</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">X</p></td>
</tr>
</tbody>
</table>


<h2>Where to get fonts from?</h2>
<span class="title">Download an <code>@font-face</code> kit</span><ul>
<!----><li>
<!--    --><p>
<a href="http://www.fontsquirrel.com/">http://www.fontsquirrel.com/</a>
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
<a href="http://www.fontex.org/">http://www.fontex.org/</a>
<!--    --></p>
<!----></li>
</ul>
<span class="title">A font service:</span><ul>
<!----><li>
<!--    --><p>
<a href="http://www.google.com/fonts">http://www.google.com/fonts</a>
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
<a href="https://typekit.com/">https://typekit.com/</a>
<!--    --></p>
<!----></li>
</ul>


<h2>Implement font in Sass</h2>
<pre class="runnable preview">@font-face {
    font-family: 'DroidSansBold';
    src: url('../resources/fonts/DroidSans-Bold-webfont.eot');
    src: url('../resources/fonts/DroidSans-Bold-webfont.eot?#iefix') format('embedded-opentype'),
         url('../resources/fonts/DroidSans-Bold-webfont.woff') format('woff'),
         url('../resources/fonts/DroidSans-Bold-webfont.ttf') format('truetype'),
         url('../resources/fonts/DroidSans-Bold-webfont.svg#DroidSansBold') format('svg');
    font-weight: normal;
    font-style: normal;
}</pre>


<h2>Base64 for fonts!</h2>
<p>Yes it&#8217;s possible to Base64 encode fonts!</p>
<p>To get a Base64 font, upload and encode every font extension
to an encoder:</p>
<p><a href="http://www.opinionatedgeek.com/dotnet/tools/base64encode/">http://www.opinionatedgeek.com/dotnet/tools/base64encode/</a></p>
<p>It will present you the Base64 for each font file.
These Base64 strings you can implement in your Sass.</p>


<h2>Base64 font example</h2>
<pre class="runnable preview">@font-face{
 font-family: "DroidSansBold";
 src: url(data:font/tff;base64,&lt;here&gt;) format('TrueType'),
        url(data:font/svg;base64,&lt;here&gt;) format('svg'),
        url(data:font/eot;base64,&lt;here&gt;) format('eot'),
        url(data:font/woff;base64,&lt;here&gt;) format('woff');
}</pre>


<h2>Assign font</h2>
<p>Set a CSS class on a component, to target it from the CSS.</p>
<pre class="runnable preview">.mycomponent {
    font-family: 'DroidSansRegular';
    line-height: 1.6em;
}</pre>


<h2>Px or Em ?</h2>
<p><strong>Pixels</strong>
Pixels (px) are fixed-size units that are used in screen media. One pixel is equal to one dot on the computer screen (the smallest division of your screen’s resolution). Many web designers use pixel units in web documents in order to produce a pixel-perfect representation of their site as it is rendered in the browser.</p>
<p><strong>Ems</strong>
"Ems" (em): The <em>em</em> is a scalable unit that is used in web document media. An em is equal to the current font-size, for instance, if the font-size of the document is 16px, 1em is equal to 16px. Ems are scalable in nature, so 2em would equal 32px, .5em would equal 8px, etc.</p>
<p>In theory, using em instead of px will allow the layout to re-size more easily based on user preferences. But nowadays, modern browsers can resize px layouts as well as em layouts so it might not be as relevant as it was some years ago.</p>


<h2>Px / Ems converters</h2>
<p>When you think the calculation of ems is annoying&#8230;
Let&#8217;s Sass calculate it for you!</p>
<pre class="runnable preview">@function em($target, $context: $base-font-size-em) {
   @if $target == 0 { @return 0 }
   @return $target / $context + 0em;
}

@function px($target, $context: $base-font-size) {
   @if $target == 0 { @return 0 }
   @return $target / $context + 0px;
}
$base-font-size: 15px;</pre>


<h2>Build</h2>
<p>A <code>build</code> process is required in order to see the newly implemented fonts. This will copy and link the fonts to the build folder.</p>
<p><code>sencha app build</code>
==== Implementing Glyps and Icons
.The following steps are required to implement a custom icon font.</p>
<ol>
<!----><li>
<!--    --><p>
Choose an icon font
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Create a font pack
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Download the icon font.
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Implement icon font in Sass
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Assign icon font
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Build
<!--    --></p>
<!----></li>
</ol>


<h2>About icon fonts</h2>
<p>Icons delivered as a font file and mapped to (HEX) character codes.
Icon font can be embedded with CSS like any other custom font.</p>


<h2>Icon fonts why?</h2>
<span class="title">Why icon fonts?</span><ul>
<!----><li>
<!--    --><p>
Icon Fonts are vectors.
Icons can easily change size and they are always best quality.
Perfect on Retina displays.
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
No need for Photoshop
Icon Fonts can change colors, shades, contrasts and have no background.
Customizable with CSS
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Screen reader compatible
Font icons won&#8217;t spam your screen reader.
No additional markup is required.
<!--    --></p>
<!----></li>
</ul>


<h2>Where to get icon fonts from?</h2>
<p><a href="http://icomoon.io/app">http://icomoon.io/app</a>
<a href="http://www.pictos.cc">http://www.pictos.cc</a>
<a href="http://fontello.com/">http://fontello.com/</a>
<a href="http://fortawesome.github.io/Font-Awesome/">http://fortawesome.github.io/Font-Awesome/</a></p>
<p>Convert text to unicodes:
<a href="http://www.branah.com/unicode-converter">http://www.branah.com/unicode-converter</a></p>


<h2>Create a font</h2>
<span class="title">Create your own font by selecting icons.</span><ul>
<!----><li>
<!--    --><p>
Set character and unicode to the every icon.
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Set default font metrics (for example 16px)
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Give the font a name
<!--    --></p>
<!----></li>
</ul>


<h2>Example: IcoMoon</h2>
<img src="resources/images/assets_createfontpack.png"  width="100%" >
<img src="resources/images/assets_createfontpack2.png"  width="100%" >


<h2>Example: Fontello</h2>
<img src="resources/images/assets_createfontpack3.png"  width="100%" >


<h2>Implement icon font in Sass</h2>
<p>This works exact the same as implementing any other font.</p>
<p>Sometimes the CSS file is included with the font kit download.</p>
<pre class="runnable preview">@font-face {
  font-family: 'MyFont';
  src: url('font/myfont.eot?22334');
  src: url('font/myfont.eot?22334#iefix') format('embedded-opentype'),
       url('font/myfont.woff?22334') format('woff'),
       url('font/myfont.ttf?22334') format('truetype'),
       url('font/myfont.svg?22334#myfont') format('svg');
  font-weight: normal;
  font-style: normal;
}</pre>
<p>Again don&#8217;t worry about the paths, since it will be part of the build process.</p>


<h2>About Glyphs</h2>
<span class="title">To assign custom icons to Ext JS components you can use the <code>glyph</code> config.</span><ul>
<!----><li>
<!--    --><p>
Specify the decimal code that maps to the unicode character
you choose while you&#8217;ve created the font pack.
You can convert the character to a decimal with converters:
<a href="http://www.branah.com/unicode-converter">http://www.branah.com/unicode-converter</a>
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
Specify the name of the font.
<!--    --></p>
<!----></li>
</ul>
<pre class="runnable preview">glyph: '115@MyFont',</pre>


<h2>More about Glyphs</h2>
<p>When no font is specified, the Pictos icon font will be used.</p>
<pre class="runnable preview">glyph: '71',</pre>
<p>Use <code>Ext.setGlyphFontFamily();</code> to set the icon font programmetically.</p>


<h2>Out of the box glyhs</h2>
<pre class="runnable preview">var buttons = [];

for (var i = 33; i &lt; 127; i++) {
    buttons.push({
        xtype: 'button',
        text: i,
        scale: 'medium', // Try 'small' and 'large'
        glyph: i + '@Pictos'  // alternate config if Ext.setGlyphFontFamily() was not set
    });
}

Ext.create('Ext.panel.Panel', {
    renderTo: Ext.getBody(),
    title: 'Sample',
    height: 500,
    width: 620,
    defaults: {
        xtype: 'button',
        margin: 2
    },
    autoScroll: true,
    items: buttons
});</pre>


<h2>Icon CSS Classes</h2>
<p>Some components have no <code>glyph</code> property.
It&#8217;s still possible to create custom icons.</p>
<p>This trick can be done with the CSS pseudo selectors:
<code>:before</code> and <code>:after</code> that implement content
before or after the component in the DOM.</p>
<pre class="runnable preview">.myclass:before {
    content: "C"; //character mapped to an icon
    font-family: 'MyIconFont'; //icon font

    color: red; //set additional colors or dimensions...
    margin-right: 10px;
}</pre>


<h2>Image icons</h2>
<span class="title">It&#8217;s also possible to use images as icons.</span><ul>
<!----><li>
<!--    --><p>
<code>icon</code> - path to an image
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
<code>iconCls</code> - a CSS class specifying a background image
<!--    --></p>
<!----></li>
<!----><li>
<!--    --><p>
<code>iconAlign</code> - align icon to <code><em>top</em></code>, <code><em>right</em></code>, <code><em>bottom</em></code> and <code><em>left</em></code>
<!--    --></p>
<!----></li>
</ul>
<pre class="runnable preview">Ext.create('Ext.panel.Panel', {
    title : 'Panel',
    renderTo : Ext.getBody(),
    height : 200,
    bodyPadding : 16,
    defaults : {
        margin: 8
    },
    layout : 'vbox',
    items : [{
        xtype : 'button',
        text : 'Sunny',
        icon : 'resources/images/weather_sun.png'
    }, {
        xtype : 'button',
        text : 'Rainy',
        icon : 'resources/images/weather_rain.png',
        iconAlign : 'right'
    }]
});</pre>


<h2>Build</h2>
<p>A <code>build</code> process is required in order to see the newly implemented fonts. This will copy and link the fonts to the build folder.</p>
<p><code>sencha app build</code></p>

<!-- END -->
</body>
</html>
